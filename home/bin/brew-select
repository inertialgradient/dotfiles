#!/bin/bash

# Fuzzy-select a homebrew package
#
# Usage:
#   brew select (list|search) [cask]

set -e

if [[ ! $1 =~ ^(list|search)$ ]]; then
  echo "Usage: brew select (list|search) [TARGET]"
  exit 1
fi

# fuzzy-select a package
selection="$(
  brew $1 $2 |\
  fzf-tmux --multi --cycle --tiebreak=index)"

# trim any extra characters, if present
package="$(echo "$selection" | tr "\n" " ")"

echo "$package"
