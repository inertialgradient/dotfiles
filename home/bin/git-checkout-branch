#!/usr/bin/env bash

# Displays branches for fuzzy selection, checks out the selected branch
# $* contains any arguments passed to git branch

# select a branch to checkout
selected_branch=$(git branch $1 | cut -c 3- | fzf)

if [[ $selected_branch =~ ^remotes ]]; then
  remote_branch=${selected_branch#remotes\/}
  local_branch=$(echo $remote_branch | sed -e 's/\w\+\///')

  git checkout -b "$local_branch" "$remote_branch"
else
  git checkout "$selected_branch"
fi
