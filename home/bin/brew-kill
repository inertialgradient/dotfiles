#!/bin/bash

# Fuzzy-select a homebrew package to uninstall

if [[ "$1" == "cask" ]]; then
  package=$(brew cask list | sed '1 d' | fzf)
  subcommand='cask'
elif [[ -z "$1" ]]; then
  package=$(brew list | fzf)
  subcommand=''
fi

if [[ -z $package ]]; then
  echo 'No package selected.'
  exit 1
fi

echo "brew $subcommand uninstall $package"
brew $subcommand uninstall $package
